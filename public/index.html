<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractal Art Visualizer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="control-panel">
            <h2>Fractal Controls</h2>
            
            <div class="section">
                <h3>Fractal Type</h3>
                <select id="fractalType">
                    <option value="mandelbrot">Mandelbrot</option>
                    <option value="julia">Julia Set</option>
                    <option value="burning-ship">Burning Ship</option>
                    <option value="sierpinski">Sierpinski Triangle</option>
                    <option value="tricorn">Tricorn</option>
                    <option value="multibrot">Multibrot</option>
                    <option value="phoenix">Phoenix</option>
                    <option value="newton">Newton</option>
                    <option value="biomorphs">Biomorphs</option>
                    <option value="lyapunov">Lyapunov</option>
                    <option value="magnet">Magnet</option>
                    <option value="celtic">Celtic</option>
                    <option value="heart">Heart</option>
                    <option value="spider">Spider</option>
                    <option value="fish-eye">Fish Eye</option>
                    <option value="duck">Duck</option>
                    <option value="cosmic">Cosmic</option>
                </select>
            </div>

            <div class="section">
                <h3>Colors</h3>
                <div class="color-controls">
                    <div class="color-group">
                        <label>Primary Color:</label>
                        <input type="color" id="primaryColor" value="#ff0000">
                    </div>
                    <div class="color-group">
                        <label>Secondary Color:</label>
                        <input type="color" id="secondaryColor" value="#0000ff">
                    </div>
                    <div class="color-group">
                        <label>Background Color:</label>
                        <input type="color" id="backgroundColor" value="#000000">
                    </div>
                </div>
            </div>

            <div class="section">
                <h3>Animation</h3>
                <div class="slider-group">
                    <label>Speed:</label>
                    <input type="range" id="animationSpeed" min="0.1" max="5" step="0.1" value="1">
                    <span id="speedValue">1</span>
                </div>
                <div class="slider-group">
                    <label>Zoom:</label>
                    <input type="range" id="zoomLevel" min="0.1" max="10" step="0.1" value="1">
                    <span id="zoomValue">1</span>
                </div>
                <div class="slider-group">
                    <label>Iterations:</label>
                    <input type="range" id="iterations" min="50" max="500" step="10" value="100">
                    <span id="iterationsValue">100</span>
                </div>
            </div>

            <div class="section">
                <h3>Spotify Integration</h3>
                <input type="text" id="clientId" placeholder="Client ID">
                <input type="text" id="clientSecret" placeholder="Client Secret">
                <div id="manualTokens" style="display: none;">
                    <input type="text" id="accessToken" placeholder="Access Token (Optional)">
                    <input type="text" id="refreshToken" placeholder="Refresh Token (Optional)">
                </div>
                <button id="authorizeSpotify">Authorize with Spotify</button>
                <button id="toggleManual">Manual Token Entry</button>
                <button id="saveCredentials" style="display: none;">Save Credentials</button>
                <button id="connectSpotify" style="display: none;">Connect Spotify</button>
            </div>

            <div class="section" id="nowPlayingSection" style="display: none;">
                <h3>Now Playing</h3>
                <div id="currentTrackDisplay">
                    <div id="trackArtwork"></div>
                    <div id="trackDetails">
                        <div id="trackName"></div>
                        <div id="artistName"></div>
                        <div id="albumName"></div>
                    </div>
                </div>
            </div>

            <div class="section" id="mediaControlsSection" style="display: none;">
                <h3>Playback Controls</h3>
                <div class="media-buttons-sidebar">
                    <button id="prevBtn">⏮</button>
                    <button id="playPauseBtn">⏯</button>
                    <button id="nextBtn">⏭</button>
                </div>
                
                <div class="progress-section">
                    <div class="time-display">
                        <span id="currentTime">0:00</span>
                        <span id="totalTime">0:00</span>
                    </div>
                    <input type="range" id="progressBar" min="0" max="100" value="0" class="progress-slider">
                </div>
                
                <div class="volume-section">
                    <label>Volume</label>
                    <input type="range" id="volumeSlider" min="0" max="100" value="50" class="volume-slider">
                </div>
            </div>

            <div class="section">
                <h3>Export</h3>
                <button id="takePhoto">Take Photo (PNG)</button>
                <button id="recordGif">Record GIF</button>
                <button id="recordVideo">Record Video</button>
                <div id="recordingStatus"></div>
            </div>

            <div class="section">
                <h3>Animation Controls</h3>
                <button id="playPause">Play/Pause</button>
                <button id="reset">Reset</button>
            </div>
        </div>

        <div class="canvas-container">
            <canvas id="fractalCanvas"></canvas>
            <button id="fullscreenBtn" class="fullscreen-btn">⛶</button>
        </div>
    </div>

    <script src="fractal-engine.js"></script>
    <script src="spotify-integration.js"></script>
    <script src="recording.js"></script>
    <script src="app.js"></script>
</body>
</html>